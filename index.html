<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoreCraft • Приватный сервер</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            --accent-1: #ff6b6b;
            --accent-2: #4ecdc4;
            --accent-3: #45b7d1;
            --accent-4: #96ceb4;
            --accent-5: #ffd93d;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.8);
            --transition-slow: 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            --transition-medium: 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            --transition-fast: 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        body {
            background: var(--primary-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        body.menu-open,
        body.modal-open {
            overflow: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Частицы на фоне меню */
        .particles-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            pointer-events: none;
        }

        /* Полноэкранное меню */
        .fullscreen-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(26, 26, 46, 0.95) 0%, 
                rgba(22, 33, 62, 0.95) 50%, 
                rgba(15, 52, 96, 0.9) 100%);
            backdrop-filter: blur(15px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-slow);
        }

        .fullscreen-menu.active {
            opacity: 1;
            visibility: visible;
        }

        .menu-toggle {
            position: fixed;
            top: 25px;
            right: 25px;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--accent-5), #ff9d3d);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-medium);
            box-shadow: 0 6px 25px rgba(255, 217, 61, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.1);
            z-index: 1001;
        }

        .menu-toggle:hover {
            transform: scale(1.15) rotate(90deg);
            box-shadow: 0 8px 30px rgba(255, 217, 61, 0.6);
        }

        .menu-toggle.active {
            transform: rotate(135deg);
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
        }

        .menu-bar {
            width: 26px;
            height: 3px;
            background: #000;
            margin: 3px 0;
            border-radius: 2px;
            transition: all var(--transition-medium);
            transform-origin: center;
        }

        .menu-toggle.active .menu-bar:nth-child(1) {
            transform: translateY(9px) rotate(45deg);
        }

        .menu-toggle.active .menu-bar:nth-child(2) {
            opacity: 0;
            transform: scale(0);
        }

        .menu-toggle.active .menu-bar:nth-child(3) {
            transform: translateY(-9px) rotate(-45deg);
        }

        .menu-content {
            text-align: center;
            transform: translateY(30px);
            opacity: 0;
            transition: all var(--transition-slow) 0.3s;
        }

        .fullscreen-menu.active .menu-content {
            transform: translateY(0);
            opacity: 1;
        }

        .menu-title {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--accent-5), var(--accent-1), var(--accent-2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 50px;
            animation: titleGlow 4s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            from { 
                text-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
                transform: scale(1);
            }
            to { 
                text-shadow: 0 0 40px rgba(255, 107, 107, 0.6), 
                           0 0 60px rgba(78, 205, 196, 0.4);
                transform: scale(1.02);
            }
        }

        .menu-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 500px;
            margin: 0 auto;
        }

        .menu-item {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            padding: 25px 40px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            text-decoration: none;
            color: var(--text-primary);
            transition: all var(--transition-medium);
            border: 2px solid transparent;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transform: translateX(-50px);
            opacity: 0;
        }

        .fullscreen-menu.active .menu-item {
            transform: translateX(0);
            opacity: 1;
        }

        .fullscreen-menu.active .menu-item:nth-child(1) {
            transition-delay: 0.4s;
        }

        .fullscreen-menu.active .menu-item:nth-child(2) {
            transition-delay: 0.5s;
        }

        .fullscreen-menu.active .menu-item:nth-child(3) {
            transition-delay: 0.6s;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(15px) scale(1.05);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .menu-item.donate {
            background: linear-gradient(45deg, rgba(255, 217, 61, 0.15), rgba(255, 157, 61, 0.15));
            border-color: rgba(255, 217, 61, 0.3);
        }

        .menu-item.agreement {
            background: linear-gradient(45deg, rgba(78, 205, 196, 0.15), rgba(69, 183, 209, 0.15));
            border-color: rgba(78, 205, 196, 0.3);
        }

        .menu-item.faq {
            background: linear-gradient(45deg, rgba(255, 107, 107, 0.15), rgba(255, 142, 142, 0.15));
            border-color: rgba(255, 107, 107, 0.3);
        }

        .menu-item.forum {
            background: linear-gradient(45deg, rgba(150, 206, 180, 0.15), rgba(78, 205, 196, 0.15));
            border-color: rgba(150, 206, 180, 0.3);
        }

        .menu-icon {
            font-size: 2rem;
            width: 40px;
            text-align: center;
            transition: all var(--transition-medium);
        }

        .menu-item:hover .menu-icon {
            transform: scale(1.4) rotate(10deg);
        }

        .menu-text {
            font-weight: 700;
            font-size: 1.4rem;
            transition: all var(--transition-medium);
        }

        .menu-item:hover .menu-text {
            background: linear-gradient(45deg, var(--accent-5), var(--accent-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Модальные окна с навигацией */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-slow);
            display: flex;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, 
                rgba(26, 26, 46, 0.95) 0%, 
                rgba(22, 33, 62, 0.95) 50%, 
                rgba(15, 52, 96, 0.9) 100%);
            border-radius: 25px;
            padding: 0;
            max-width: 600px;
            width: 95%;
            max-height: 90vh;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transform: scale(0.7) translateY(40px);
            opacity: 0;
            transition: all var(--transition-slow);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
        }

        .modal.active .modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .modal-header {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 30px 40px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            background: rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--accent-5), var(--accent-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
        }

        .modal-body {
            flex: 1;
            padding: 30px 40px;
            overflow-y: auto;
            line-height: 1.7;
        }

        .modal-body p {
            margin-bottom: 18px;
            opacity: 0.9;
            font-size: 1.05rem;
        }

        .modal-footer {
            padding: 20px 40px 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            background: rgba(255, 255, 255, 0.03);
        }

        .back-to-menu {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 25px;
            background: linear-gradient(45deg, var(--accent-2), var(--accent-3));
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            transition: all var(--transition-medium);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .back-to-menu::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left var(--transition-medium);
        }

        .back-to-menu:hover::before {
            left: 100%;
        }

        .back-to-menu:hover {
            transform: translateX(-5px);
            box-shadow: 0 6px 20px rgba(78, 205, 196, 0.4);
        }

        /* Анимация появления контента в модалках */
        .modal-body > * {
            opacity: 0;
            transform: translateY(20px);
            transition: all var(--transition-medium);
        }

        .modal.active .modal-body > * {
            opacity: 1;
            transform: translateY(0);
        }

        .modal.active .modal-body p:nth-child(1) { transition-delay: 0.1s; }
        .modal.active .modal-body p:nth-child(2) { transition-delay: 0.2s; }
        .modal.active .modal-body p:nth-child(3) { transition-delay: 0.3s; }
        .modal.active .modal-body p:nth-child(4) { transition-delay: 0.4s; }
        .modal.active .modal-body p:nth-child(5) { transition-delay: 0.5s; }
        .modal.active .modal-body p:nth-child(6) { transition-delay: 0.6s; }

        /* Header */
        .header {
            text-align: center;
            padding: 60px 20px 40px;
            background: rgba(0, 0, 0, 0.25);
            border-radius: 25px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.15);
            transition: all var(--transition-medium);
        }

        .header:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--accent-1), var(--accent-2), var(--accent-3), var(--accent-4));
            background-size: 400% 400%;
            animation: rainbow 12s linear infinite;
        }

        .private-badge {
            display: inline-block;
            background: linear-gradient(45deg, var(--accent-1), var(--accent-5));
            color: #000;
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 800;
            font-size: 1rem;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
            animation: badgePulse 4s infinite;
            transition: all var(--transition-medium);
        }

        .private-badge:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
        }

        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes badgePulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
            }
            50% { 
                transform: scale(1.08);
                box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
            }
        }

        .logo {
            font-size: 4.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--accent-1), var(--accent-2), var(--accent-3));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
            text-shadow: 0 0 40px rgba(255, 107, 107, 0.4);
            animation: logoGlow 5s ease-in-out infinite alternate;
            transition: all var(--transition-medium);
        }

        .logo:hover {
            transform: scale(1.03);
        }

        @keyframes logoGlow {
            from { 
                text-shadow: 0 0 25px rgba(255, 107, 107, 0.4);
            }
            to { 
                text-shadow: 0 0 40px rgba(255, 107, 107, 0.7), 
                           0 0 60px rgba(78, 205, 196, 0.5);
            }
        }

        .subtitle {
            font-size: 1.5rem;
            opacity: 0.9;
            margin: 15px 0 25px;
            transition: all var(--transition-medium);
        }

        .subtitle:hover {
            opacity: 1;
            transform: translateY(-3px);
        }

        .server-info {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .server-ip {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 30px;
            border-radius: 15px;
            font-family: monospace;
            font-size: 1.2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-medium);
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .server-ip:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.15);
        }

        .version-badge {
            background: linear-gradient(45deg, var(--accent-4), var(--accent-2));
            color: #000;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1rem;
            transition: all var(--transition-medium);
        }

        .version-badge:hover {
            transform: scale(1.1);
        }

        /* Блок онлайна */
        .online-widget {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.12), rgba(78, 205, 196, 0.12));
            border-radius: 25px;
            padding: 25px;
            margin: 30px auto;
            max-width: 450px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-medium);
            backdrop-filter: blur(10px);
        }

        .online-widget:hover {
            transform: translateY(-6px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .online-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .online-title {
            font-size: 1.3rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .online-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            opacity: 0.9;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: statusPulse 3s infinite;
        }

        .status-online {
            background: #4ecdc4;
            box-shadow: 0 0 15px #4ecdc4;
        }

        .status-offline {
            background: #ff6b6b;
            box-shadow: 0 0 15px #ff6b6b;
        }

        .status-checking {
            background: #ffd93d;
            box-shadow: 0 0 15px #ffd93d;
        }

        @keyframes statusPulse {
            0%, 100% { 
                transform: scale(1);
                opacity: 1;
            }
            50% { 
                transform: scale(1.2);
                opacity: 0.8;
            }
        }

        .online-main {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .player-count {
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--accent-5), var(--accent-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
        }

        .player-label {
            font-size: 1.2rem;
            opacity: 0.9;
            text-align: right;
            line-height: 1.4;
        }

        .online-progress {
            height: 8px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-4), var(--accent-2));
            border-radius: 4px;
            transition: width 1.5s cubic-bezier(0.23, 1, 0.32, 1);
            width: 0%;
        }

        .online-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 15px;
        }

        /* Cards */
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-medium);
            backdrop-filter: blur(10px);
        }

        .card:hover {
            transform: translateY(-12px) scale(1.02);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .card-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            display: inline-block;
            animation: cardBounce 4s infinite;
            transition: all var(--transition-medium);
        }

        .card:hover .card-icon {
            transform: scale(1.3) rotate(15deg);
        }

        @keyframes cardBounce {
            0%, 100% { transform: translateY(0) rotate(0); }
            25% { transform: translateY(-12px) rotate(5deg); }
            50% { transform: translateY(-6px) rotate(-5deg); }
            75% { transform: translateY(-8px) rotate(3deg); }
        }

        .card-title {
            font-size: 1.6rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--accent-5), var(--accent-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-desc {
            opacity: 0.9;
            line-height: 1.7;
            margin-bottom: 25px;
            font-size: 1.05rem;
        }

        .btn {
            display: inline-block;
            padding: 15px 35px;
            background: linear-gradient(45deg, var(--accent-1), #ff8e8e);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 700;
            transition: all var(--transition-medium);
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.3);
        }

        .btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.5);
        }

        .btn-secondary {
            background: linear-gradient(45deg, var(--accent-2), #6fffe0);
            box-shadow: 0 6px 20px rgba(78, 205, 196, 0.3);
        }

        .btn-secondary:hover {
            box-shadow: 0 10px 25px rgba(78, 205, 196, 0.5);
        }

        /* Map Section */
        .map-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-medium);
            backdrop-filter: blur(10px);
        }

        .map-section:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .map-title {
            font-size: 2.5rem;
            margin-bottom: 25px;
            background: linear-gradient(45deg, var(--accent-3), var(--accent-2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 4s infinite;
        }

        .map-description {
            opacity: 0.9;
            margin-bottom: 30px;
            line-height: 1.7;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            font-size: 1.1rem;
        }

        /* Mods Section */
        .mods-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-medium);
            backdrop-filter: blur(10px);
        }

        .mods-section:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 35px;
            background: linear-gradient(45deg, var(--accent-5), #ff9d3d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: titlePulse 4s infinite;
        }

        @keyframes titlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        .mods-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
        }

        .mod-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.25);
            transition: all var(--transition-medium);
        }

        .mod-card:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .mod-card.development {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 82, 82, 0.25));
            border: 1px solid rgba(255, 107, 107, 0.4);
            opacity: 0.9;
        }

        .mod-card.development:hover {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(255, 82, 82, 0.3));
            transform: translateY(-10px) scale(1.02);
        }

        .mod-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
            transition: all var(--transition-medium);
        }

        .mod-card:hover .mod-icon {
            transform: scale(1.2) rotate(10deg);
        }

        .mod-name {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            color: var(--accent-5);
        }

        .mod-card.development .mod-name {
            color: var(--accent-1);
        }

        .mod-desc {
            opacity: 0.9;
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1.05rem;
        }

        .mod-features {
            list-style: none;
            margin-bottom: 25px;
        }

        .mod-features li {
            padding: 8px 0;
            opacity: 0.9;
            position: relative;
            padding-left: 25px;
            font-size: 1rem;
            transition: all var(--transition-medium);
        }

        .mod-features li:hover {
            transform: translateX(8px);
            opacity: 1;
        }

        .mod-features li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--accent-2);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .mod-card.development .mod-features li::before {
            content: '✗';
            color: var(--accent-1);
        }

        /* Rules */
        .rules {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-medium);
            backdrop-filter: blur(10px);
        }

        .rules:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .rules-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 35px;
            background: linear-gradient(45deg, var(--accent-4), var(--accent-2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: titlePulse 4s infinite;
        }

        .rules-list {
            display: grid;
            gap: 15px;
        }

        .rule-category {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            margin-bottom: 20px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.25);
            transition: all var(--transition-medium);
        }

        .rule-category:hover {
            transform: translateX(8px);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .rule-category-header {
            padding: 22px 25px;
            background: rgba(255, 255, 255, 0.15);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all var(--transition-medium);
        }

        .rule-category-header:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .rule-category-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--accent-5);
        }

        .rule-category-content {
            padding: 0 25px;
            max-height: 0;
            overflow: hidden;
            transition: all var(--transition-slow);
        }

        .rule-category.expanded .rule-category-content {
            padding: 25px;
            max-height: 2000px;
        }

        .rule-item {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 12px;
            border-left: 5px solid var(--accent-1);
            margin-bottom: 15px;
            transition: all var(--transition-medium);
        }

        .rule-item:hover {
            transform: translateX(8px);
            background: rgba(255, 255, 255, 0.12);
        }

        .rule-number {
            font-weight: 800;
            color: var(--accent-1);
            margin-right: 10px;
            font-size: 1.1rem;
        }

        .rule-punishment {
            color: #ff8e8e;
            font-size: 0.95rem;
            margin-top: 10px;
            font-style: italic;
            opacity: 0.9;
        }

        .expand-icon {
            transition: transform var(--transition-slow);
            color: var(--accent-2);
            font-size: 1.3rem;
        }

        .rule-category.expanded .expand-icon {
            transform: rotate(180deg);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            opacity: 0.8;
            font-size: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            margin-top: 30px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--accent-2);
            text-decoration: none;
            transition: all var(--transition-medium);
            font-size: 0.9rem;
        }

        .footer-link:hover {
            color: var(--accent-5);
            transform: translateY(-2px);
        }

        /* ФОРУМ */
        .forum-section {
            display: none;
        }

        .forum-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .forum-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .forum-logo {
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--accent-1), var(--accent-2), var(--accent-3));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }

        .forum-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
        }

        .forum-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .forum-tab {
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            cursor: pointer;
            transition: all var(--transition-medium);
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-weight: 600;
        }

        .forum-tab.active {
            background: linear-gradient(45deg, var(--accent-1), #ff8e8e);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.3);
        }

        .forum-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .forum-content {
            display: none;
        }

        .forum-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .auth-section {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .auth-form {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .auth-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-align: center;
            background: linear-gradient(45deg, var(--accent-5), var(--accent-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            transition: all var(--transition-fast);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-2);
            background: rgba(255, 255, 255, 0.15);
        }

        .user-panel {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: none;
            backdrop-filter: blur(10px);
        }

        .user-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .user-welcome {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .user-role {
            display: inline-block;
            padding: 5px 15px;
            background: linear-gradient(45deg, var(--accent-5), #ff9d3d);
            color: #000;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-left: 15px;
        }

        .user-role.admin {
            background: linear-gradient(45deg, var(--accent-1), #ff6b6b);
            color: white;
        }

        .admin-panel {
            background: rgba(255, 107, 107, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 107, 107, 0.3);
            display: none;
            backdrop-filter: blur(10px);
        }

        .admin-title {
            font-size: 2rem;
            margin-bottom: 25px;
            text-align: center;
            background: linear-gradient(45deg, var(--accent-1), #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .admin-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .admin-action {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all var(--transition-medium);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .admin-action:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .action-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .action-title {
            font-weight: 700;
            margin-bottom: 10px;
        }

        .action-desc {
            opacity: 0.9;
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        .threads-list {
            display: grid;
            gap: 20px;
        }

        .thread-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all var(--transition-medium);
            cursor: pointer;
        }

        .thread-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .thread-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .thread-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .thread-author {
            opacity: 0.8;
            font-size: 0.95rem;
        }

        .thread-date {
            opacity: 0.7;
            font-size: 0.9rem;
        }

        .thread-content {
            opacity: 0.9;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .thread-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 8px 15px;
            font-size: 0.9rem;
        }

        .empty-state {
            text-align: center;
            padding: 50px 20px;
            opacity: 0.7;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        /* Discord Auth Button */
        .discord-auth-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            padding: 15px;
            background: #5865F2;
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-medium);
            margin-bottom: 15px;
        }

        .discord-auth-btn:hover {
            background: #4752c4;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(88, 101, 242, 0.4);
        }

        .discord-icon {
            width: 20px;
            height: 20px;
        }

        /* Thread Modal */
        .thread-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-slow);
        }

        .thread-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .thread-modal-content {
            background: linear-gradient(135deg, 
                rgba(26, 26, 46, 0.95) 0%, 
                rgba(22, 33, 62, 0.95) 50%, 
                rgba(15, 52, 96, 0.9) 100%);
            border-radius: 25px;
            padding: 0;
            max-width: 800px;
            width: 95%;
            max-height: 90vh;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transform: scale(0.7) translateY(40px);
            opacity: 0;
            transition: all var(--transition-slow);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
        }

        .thread-modal.active .thread-modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .thread-modal-header {
            padding: 25px 30px;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .thread-modal-title {
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--accent-5);
        }

        .thread-modal-body {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            line-height: 1.7;
        }

        .thread-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .thread-author-info {
            font-weight: 600;
            color: var(--accent-2);
        }

        .thread-date-info {
            opacity: 0.8;
        }

        .thread-content-full {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .thread-modal-footer {
            padding: 20px 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            background: rgba(255, 255, 255, 0.03);
        }

        .close-thread-modal {
            background: linear-gradient(45deg, var(--accent-1), #ff8e8e);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-medium);
        }

        .close-thread-modal:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        /* Адаптивность */
        @media (max-width: 768px) {
            .menu-toggle {
                top: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
            }
            
            .menu-title {
                font-size: 2.5rem;
            }
            
            .menu-item {
                padding: 20px 30px;
                gap: 20px;
            }
            
            .menu-text {
                font-size: 1.2rem;
            }
            
            .logo { 
                font-size: 3rem; 
            }
            
            .cards { 
                grid-template-columns: 1fr; 
            }
            
            .mods-grid { 
                grid-template-columns: 1fr; 
            }
            
            .server-info {
                flex-direction: column;
                gap: 15px;
            }

            .modal-content {
                width: 98%;
                margin: 10px;
            }

            .modal-header,
            .modal-body,
            .modal-footer {
                padding: 20px 25px;
            }

            .header {
                padding: 40px 20px 30px;
            }

            .online-widget {
                padding: 20px;
                margin: 20px auto;
            }

            .player-count {
                font-size: 2.8rem;
            }

            .map-section,
            .mods-section,
            .rules {
                padding: 30px 25px;
            }

            .section-title,
            .rules-title,
            .map-title {
                font-size: 2rem;
            }

            .forum-tabs {
                flex-direction: column;
            }

            .forum-tab {
                text-align: center;
            }

            .auth-section {
                flex-direction: column;
                align-items: center;
            }
            
            .auth-form {
                max-width: 100%;
            }
            
            .user-info {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .admin-actions {
                grid-template-columns: 1fr;
            }

            .thread-modal-content {
                width: 98%;
                margin: 10px;
            }

            .thread-modal-header,
            .thread-modal-body,
            .thread-modal-footer {
                padding: 20px 25px;
            }

            .footer-links {
                flex-direction: column;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .menu-toggle {
                top: 15px;
                right: 15px;
                width: 50px;
                height: 50px;
            }
            
            .menu-title {
                font-size: 2rem;
            }
            
            .menu-item {
                padding: 18px 25px;
                gap: 15px;
            }
            
            .menu-text {
                font-size: 1.1rem;
            }
            
            .logo { 
                font-size: 2.5rem; 
            }
            
            .card,
            .mod-card {
                padding: 25px 20px;
            }

            .modal-header,
            .modal-body,
            .modal-footer {
                padding: 15px 20px;
            }

            .header {
                padding: 30px 15px 25px;
            }

            .private-badge {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .subtitle {
                font-size: 1.2rem;
            }

            .server-ip {
                padding: 12px 20px;
                font-size: 1rem;
            }

            .online-widget {
                padding: 15px;
            }

            .player-count {
                font-size: 2.5rem;
            }

            .map-section,
            .mods-section,
            .rules {
                padding: 25px 20px;
            }

            .section-title,
            .rules-title,
            .map-title {
                font-size: 1.8rem;
            }

            .btn {
                padding: 12px 25px;
                font-size: 1rem;
            }

            .forum-container {
                padding: 25px 20px;
            }

            .forum-logo {
                font-size: 2.5rem;
            }

            .thread-modal-header,
            .thread-modal-body,
            .thread-modal-footer {
                padding: 15px 20px;
            }
        }

        /* Оптимизация анимаций для мобильных устройств */
        @media (max-width: 768px) {
            .card:hover,
            .mod-card:hover,
            .header:hover,
            .online-widget:hover,
            .map-section:hover,
            .mods-section:hover,
            .rules:hover {
                transform: none;
            }

            .card:hover .card-icon,
            .mod-card:hover .mod-icon {
                transform: none;
            }

            .menu-toggle:hover {
                transform: none;
            }

            .server-ip:hover,
            .version-badge:hover,
            .private-badge:hover {
                transform: none;
            }

            .thread-item:hover {
                transform: none;
            }

            .admin-action:hover {
                transform: none;
            }

            .discord-auth-btn:hover {
                transform: none;
            }
        }
    </style>
</head>
<body>
    <!-- Частицы на фоне -->
    <div class="particles-background" id="particlesBackground"></div>

    <!-- Полноэкранное меню -->
    <div class="menu-toggle" id="menuToggle">
        <div class="menu-bar"></div>
        <div class="menu-bar"></div>
        <div class="menu-bar"></div>
    </div>

    <div class="fullscreen-menu" id="fullscreenMenu">
        <div class="menu-content">
            <h2 class="menu-title">MoreCraft</h2>
            <div class="menu-items">
                <div class="menu-item donate" onclick="openModal('donateModal')">
                    <span class="menu-icon">💎</span>
                    <span class="menu-text">Поддержать сервер</span>
                </div>
                <div class="menu-item agreement" onclick="openModal('agreementModal')">
                    <span class="menu-icon">📜</span>
                    <span class="menu-text">Пользовательское соглашение</span>
                </div>
                <div class="menu-item faq" onclick="openModal('faqModal')">
                    <span class="menu-icon">❓</span>
                    <span class="menu-text">FAQ для новичков</span>
                </div>
                <div class="menu-item forum" onclick="showForum()">
                    <span class="menu-icon">💬</span>
                    <span class="menu-text">Форум</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальные окна с навигацией -->
    <div class="modal" id="donateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">💎 Поддержать сервер</h2>
            </div>
            <div class="modal-body">
                <p>Ваша поддержка помогает серверу становиться лучше с каждым днём!</p>
                <p><strong>Куда идут средства:</strong></p>
                <p>• Оплата хостинга и домена</p>
                <p>• Разработка новых функций</p>
                <p>• Улучшение инфраструктуры</p>
                <p>• Поддержка стабильной работы</p>
                <br>
                <a href="https://tbank.ru/cf/1eAGt3du1y8" class="btn" target="_blank" style="display: block; text-align: center; margin: 20px 0;">
                    💰 Поддержать через Т-Банк
                </a>
                <p style="font-size: 0.9rem; opacity: 0.8; text-align: center;">
                    Все пожертвования добровольны и безвозвратны
                </p>
            </div>
            <div class="modal-footer">
                <button class="back-to-menu" onclick="backToMenuFromModal('donateModal')">
                    ← Назад в меню
                </button>
            </div>
        </div>
    </div>

    <div class="modal" id="agreementModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📜 Пользовательское соглашение</h2>
            </div>
            <div class="modal-body">
                <p><strong>1. Общие положения:</strong> Используя наш сервер, вы автоматически соглашаетесь с условиями данного соглашения.</p>
                <p><strong>2. Донаты:</strong> Все пожертвования являются добровольными и безвозвратными.</p>
                <p><strong>3. Конфиденциальность:</strong> Мы уважаем вашу приватность и не передаем личные данные третьим лицам.</p>
                <p><strong>4. Ответственность:</strong> Администрация не несет ответственности за действия игроков вне сервера.</p>
                <p><strong>5. Изменения:</strong> Администрация оставляет за собой право вносить изменения в правила и соглашение.</p>
            </div>
            <div class="modal-footer">
                <button class="back-to-menu" onclick="backToMenuFromModal('agreementModal')">
                    ← Назад в меню
                </button>
            </div>
        </div>
    </div>

    <div class="modal" id="faqModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">❓ FAQ для новичков</h2>
            </div>
            <div class="modal-body">
                <p><strong>Как присоединиться к серверу?</strong></p>
                <p>1. Заполни заявку на вайтлист</p>
                <p>2. Дождись одобрения администрации</p>
                <p>3. Добавь сервер с IP: capacity-examines.gl.joinmc.link</p>
                <br>
                <p><strong>Какие моды нужны?</strong></p>
                <p>Рекомендуем установить Xaero's Minimap, Xaero's World Map и Simple Voice Chat.</p>
                <br>
                <p><strong>Что делать если я новичок?</strong></p>
                <p>Не переживай! Наше сообщество всегда готово помочь в Discord.</p>
            </div>
            <div class="modal-footer">
                <button class="back-to-menu" onclick="backToMenuFromModal('faqModal')">
                    ← Назад в меню
                </button>
            </div>
        </div>
    </div>

    <!-- Основной контент -->
    <div class="container" id="mainContent">
        <!-- Header -->
        <header class="header">
            <div class="private-badge">🔒 Приватный сервер</div>
            <div class="logo">MoreCraft</div>
            <div class="subtitle">Королевство, где каждый находит свой дом</div>
            <div class="server-info">
                <div class="server-ip" onclick="copyIP()">IP: capacity-examines.gl.joinmc.link</div>
                <div class="version-badge">Версия: 1.20.4</div>
            </div>

            <!-- Блок онлайна -->
            <div class="online-widget">
                <div class="online-header">
                    <div class="online-title">
                        <span>👑</span>
                        Статус Королевства
                    </div>
                    <div class="online-status">
                        <div class="status-dot status-checking"></div>
                        <span class="status-text">Проверка...</span>
                    </div>
                </div>

                <div class="online-main">
                    <div class="player-count" id="onlineCount">0</div>
                    <div class="player-label">игроков<br>онлайн</div>
                </div>

                <div class="online-progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>

                <div class="online-footer">
                    <span class="last-update">Обновлено: <span id="lastUpdate">только что</span></span>
                    <span class="next-update">Следующее: <span id="nextUpdate">30 сек</span></span>
                </div>
            </div>
        </header>

        <!-- Основные карточки -->
        <div class="cards">
            <div class="card">
                <div class="card-icon">🎮</div>
                <div class="card-title">Играть сейчас</div>
                <div class="card-desc">
                    Присоединяйся к нашему приватному серверу и начни своё приключение в мире MoreCraft
                </div>
                <a href="#" class="btn" onclick="copyIP()">Скопировать IP</a>
            </div>

            <div class="card">
                <div class="card-icon">💬</div>
                <div class="card-title">Наш Discord</div>
                <div class="card-desc">
                    Общайся с игроками, получай помощь и участвуй в ивентах нашего сообщества
                </div>
                <a href="https://discord.gg/Rssb9KwyKT" class="btn btn-secondary" target="_blank">Присоединиться</a>
            </div>

            <div class="card">
                <div class="card-icon">📢</div>
                <div class="card-title">Telegram канал</div>
                <div class="card-desc">
                    Будь в курсе всех новостей, обновлений и мероприятий сервера
                </div>
                <a href="https://t.me/MoreCraftMC" class="btn" target="_blank">Подписаться</a>
            </div>
        </div>

        <!-- Map Section -->
        <section class="map-section">
            <h2 class="map-title">🗺️ Карта сервера</h2>
            <p class="map-description">
                Исследуй мир MoreCraft в реальном времени! На карте отображаются все постройки, игроки и территории нашего приватного сервера.
            </p>
            <a href="http://command-night.gl.at.ply.gg" class="btn" target="_blank">Открыть карту</a>
        </section>

        <!-- Recommended Mods Section -->
        <section class="mods-section">
            <h2 class="section-title">⚡ Рекомендуемые моды</h2>
            <div class="mods-grid">
                <div class="mod-card">
                    <div class="mod-icon">🗺️</div>
                    <h3 class="mod-name">Xaero's Minimap</h3>
                    <p class="mod-desc">Удобная миникарта с отображением сущностей, точек пути и настраиваемым интерфейсом.</p>
                    <ul class="mod-features">
                        <li>Отображение мобов и игроков</li>
                        <li>Создание точек пути</li>
                        <li>Настраиваемый внешний вид</li>
                        <li>Поддержка Waypoints</li>
                    </ul>
                    <a href="https://www.curseforge.com/minecraft/mc-mods/xaeros-minimap" class="btn" target="_blank">Скачать</a>
                </div>

                <div class="mod-card">
                    <div class="mod-icon">🌍</div>
                    <h3 class="mod-name">Xaero's World Map</h3>
                    <p class="mod-desc">Полноценная карта мира с автоматическим исследованием и сохранением открытых территорий.</p>
                    <ul class="mod-features">
                        <li>Авто-сохранение карты</li>
                        <li>Поиск по точкам пути</li>
                        <li>Поддержка мультиплеера</li>
                        <li>Высокая производительность</li>
                    </ul>
                    <a href="https://www.curseforge.com/minecraft/mc-mods/xaeros-world-map" class="btn" target="_blank">Скачать</a>
                </div>

                <div class="mod-card development">
                    <div class="mod-icon">🎤</div>
                    <h3 class="mod-name">Голосовой чат</h3>
                    <p class="mod-desc">Голосовой чат для комфортного общения с игроками на сервере</p>
                    <ul class="mod-features">
                        <li>Пространственный звук</li>
                        <li>Простая настройка</li>
                        <li>Работает в России</li>
                        <li>Высокое качество звука</li>
                    </ul>
                    <button class="btn" style="opacity: 0.7; cursor: not-allowed;" disabled>В разработке</button>
                </div>
            </div>
        </section>

        <!-- Rules -->
        <section class="rules">
            <h2 class="rules-title">Хартия Королевства MoreCraft</h2>
            <div class="rules-intro">
                <p style="text-align: center; margin-bottom: 20px; font-style: italic; opacity: 0.9;">
                    Каждый, кто вступает в земли MoreCraft, соглашается с законами Королевства.<br>
                    Незнание законов не освобождает от ответственности.<br>
                    Эти правила хранят дружбу, уважение и порядок среди жителей.
                </p>
            </div>
            <div class="rules-list">
                
                <!-- Категория 1 -->
                <div class="rule-category">
                    <div class="rule-category-header" onclick="toggleCategory(this)">
                        <div class="rule-category-title">I. О поведении и общении</div>
                        <div class="expand-icon">▼</div>
                    </div>
                    <div class="rule-category-content">
                        <div class="rule-item">
                            <span class="rule-number">Статья 1.</span>
                            Относись к другим с уважением. Оскорбления, ссоры и токсичность не украшают ни одного рыцаря.
                            <div class="rule-punishment">Наказание: мут от 30 минут до 1 дня / варн / при повторении — бан до 3 дней.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 2.</span>
                            Не засоряй чат спамом, капсом или бессмысленными сообщениями.
                            <div class="rule-punishment">Наказание: мут от 15 минут до 1 часа / при повторении — варн.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 3.</span>
                            Политика, реклама, NSFW и темы, не относящиеся к игре, здесь не место.
                            <div class="rule-punishment">Наказание: мут 1 день / варн / при повторении — бан до 7 дней.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 4.</span>
                            В ролевых сценах оставайся в образе. Не ломай атмосферу и не мешай другим играть.
                            <div class="rule-punishment">Наказание: предупреждение / мут / при повторении — варн.</div>
                        </div>
                    </div>
                </div>

                <!-- Категория 2 -->
                <div class="rule-category">
                    <div class="rule-category-header" onclick="toggleCategory(this)">
                        <div class="rule-category-title">II. О справедливой игре</div>
                        <div class="expand-icon">▼</div>
                    </div>
                    <div class="rule-category-content">
                        <div class="rule-item">
                            <span class="rule-number">Статья 5.</span>
                            Не разрушай чужие постройки и не кради — это не доблесть, а позор.
                            <div class="rule-punishment">Наказание: бан от 3 до 7 дней / при повторении — перманентный бан.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 6.</span>
                            Не используй баги, дюпы и другие обходные пути.
                            <div class="rule-punishment">Наказание: бан 7 дней / при повторении — перманентный бан.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 7.</span>
                            Читы, моды и макросы, дающие преимущество, — зло вне закона.
                            <div class="rule-punishment">Наказание: перманентный бан.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 8.</span>
                            Не мешай другим играть: не застраивай, не убивай без причины, не создавай хаос.
                            <div class="rule-punishment">Наказание: варн / бан 3 дня / при повторении — 7 дней.</div>
                        </div>
                    </div>
                </div>

                <!-- Категория 3 -->
                <div class="rule-category">
                    <div class="rule-category-header" onclick="toggleCategory(this)">
                        <div class="rule-category-title">III. О землях и владениях</div>
                        <div class="expand-icon">▼</div>
                    </div>
                    <div class="rule-category-content">
                        <div class="rule-item">
                            <span class="rule-number">Статья 9.</span>
                            Строй только там, где не занято, или с согласия землевладельца.
                            <div class="rule-punishment">Наказание: предупреждение / обязан снести постройку.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 9.1</span>
                            За отказ от сноса, нелегально построенного, полагается наказание.
                            <div class="rule-punishment">Наказание: Постройка переходит в полное владение законного владельца земли + бан 3 дня</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 10.</span>
                            Не трогай чужие сундуки, порталы и ресурсы без разрешения.
                            <div class="rule-punishment">Наказание: варн / бан 3 дня.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 11.</span>
                            Заброшенные земли (более 2 мес. неактивности) могут быть переданы другим игрокам (по просьбе).
                        </div>
                    </div>
                </div>

                <!-- Категория 4 -->
                <div class="rule-category">
                    <div class="rule-category-header" onclick="toggleCategory(this)">
                        <div class="rule-category-title">IV. О власти и порядке</div>
                        <div class="expand-icon">▼</div>
                    </div>
                    <div class="rule-category-content">
                        <div class="rule-item">
                            <span class="rule-number">Статья 12.</span>
                            Администрация действует честно и следит за порядком.
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 13.</span>
                            Оскорбления или давление на администрация — нарушение чести.
                            <div class="rule-punishment">Наказание: мут 1 день / варн / при повторении — бан 3 дня.</div>
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 14.</span>
                            Ложные жалобы и пустые обвинения — признак трусости.
                            <div class="rule-punishment">Наказание: варн / мут 1 день.</div>
                        </div>
                    </div>
                </div>

                <!-- Категория 5 -->
                <div class="rule-category">
                    <div class="rule-category-header" onclick="toggleCategory(this)">
                        <div class="rule-category-title">V. О наказаниях</div>
                        <div class="expand-icon">▼</div>
                    </div>
                    <div class="rule-category-content">
                        <div class="rule-item">
                            <span class="rule-number">Статья 15.</span>
                            Наказания назначаются по ситуации и с учётом истории игрока.
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 16.</span>
                            Три варна подряд — временный бан (до 7 дней).
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 17.</span>
                            За систематические нарушения следует перманентный бан.
                        </div>
                        <div class="rule-item">
                            <span class="rule-number">Статья 18.</span>
                            Раскаяние и хорошее поведение могут смягчить наказание.
                        </div>
                    </div>
                </div>

                <!-- Категория 6 -->
                <div class="rule-category">
                    <div class="rule-category-header" onclick="toggleCategory(this)">
                        <div class="rule-category-title">VI. Заключение</div>
                        <div class="expand-icon">▼</div>
                    </div>
                    <div class="rule-category-content">
                        <div class="rule-item">
                            Порядок — не оковы, а щит, защищающий наш мир.
                        </div>
                        <div class="rule-item">
                            Королевство MoreCraft стоит на честности, дружбе и уважении.
                        </div>
                        <div class="rule-item">
                            Следуй этим законам, и земля воздаст тебе добром.
                        </div>
                    </div>
                </div>

            </div>
            <div class="rules-outro">
                <p style="text-align: center; margin-top: 20px; font-style: italic; opacity: 0.9;">
                    С уваженьем, Всезнающий, flakke, zyablik101.
                </p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>© 2025 MoreCraft. Все права защищены Хартией Королевства.</p>
            <p>Присоединяйся к нашему сообществу и стань частью легенды!</p>
            
            <div class="footer-links">
                <a href="privacy-policy.html" class="footer-link">🔒 Политика конфиденциальности</a>
                <a href="terms-of-service.html" class="footer-link">📋 Условия предоставления услуг</a>
            </div>
        </footer>
    </div>

    <!-- ФОРУМ -->
    <div class="container forum-section" id="forumSection">
        <div class="forum-container">
            <header class="forum-header">
                <div class="forum-logo">MoreCraft Форум</div>
                <div class="forum-subtitle">Сообщество игроков приватного сервера</div>
            </header>

            <!-- Кнопка возврата -->
            <button class="btn" onclick="hideForum()" style="margin-bottom: 20px;">← Назад на главную</button>

            <!-- Вкладки форума -->
            <div class="forum-tabs">
                <div class="forum-tab active" onclick="switchForumTab('auth')">Авторизация</div>
                <div class="forum-tab" onclick="switchForumTab('announcements')">Объявления</div>
                <div class="forum-tab" onclick="switchForumTab('reports')">Жалобы</div>
                <div class="forum-tab" onclick="switchForumTab('discussions')">Обсуждения</div>
                <div class="forum-tab" onclick="switchForumTab('questions')">Вопросы</div>
            </div>

            <!-- Содержимое вкладок -->
            <div class="forum-content active" id="authTab">
                <!-- Auth Forms -->
                <section class="auth-section" id="authSection">
                    <div class="auth-form">
                        <h2 class="auth-title">Вход в аккаунт</h2>
                        
                        <!-- Discord Auth Button -->
                        <button class="discord-auth-btn" id="discordAuthBtn">
                            <svg class="discord-icon" viewBox="0 0 24 24">
                                <path fill="currentColor" d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.18.33.25c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z"/>
                            </svg>
                            Войти через Discord
                        </button>

                        <div class="form-group">
                            <label class="form-label">Имя пользователя</label>
                            <input type="text" class="form-input" id="loginUsername" placeholder="Введите ваш ник">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Пароль</label>
                            <input type="password" class="form-input" id="loginPassword" placeholder="Введите пароль">
                        </div>
                        <button class="btn" onclick="login()">Войти</button>
                    </div>

                    <div class="auth-form">
                        <h2 class="auth-title">Регистрация</h2>
                        <div class="form-group">
                            <label class="form-label">Имя пользователя</label>
                            <input type="text" class="form-input" id="regUsername" placeholder="Придумайте ник">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Пароль</label>
                            <input type="password" class="form-input" id="regPassword" placeholder="Придумайте пароль">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Discord ID (необязательно)</label>
                            <input type="text" class="form-input" id="regDiscord" placeholder="Ваш Discord ID">
                        </div>
                        <button class="btn btn-secondary" onclick="register()">Зарегистрироваться</button>
                    </div>
                </section>

                <!-- User Panel -->
                <section class="user-panel" id="userPanel">
                    <div class="user-info">
                        <div>
                            <span class="user-welcome" id="userWelcome">Добро пожаловать, </span>
                            <span class="user-role" id="userRole">Игрок</span>
                        </div>
                        <button class="btn" onclick="logout()" style="width: auto;">Выйти</button>
                    </div>
                </section>

                <!-- Admin Panel -->
                <section class="admin-panel" id="adminPanel">
                    <h2 class="admin-title">Панель администратора</h2>
                    <div class="admin-actions">
                        <div class="admin-action">
                            <span class="action-icon">📢</span>
                            <div class="action-title">Создать объявление</div>
                            <div class="action-desc">Опубликовать новое объявление для всех игроков</div>
                            <button class="btn btn-small" onclick="createThread('announcements')">Создать</button>
                        </div>
                        <div class="admin-action">
                            <span class="action-icon">⚖️</span>
                            <div class="action-title">Модерация жалоб</div>
                            <div class="action-desc">Просмотр и обработка жалоб от игроков</div>
                            <button class="btn btn-small" onclick="switchForumTab('reports')">Перейти</button>
                        </div>
                        <div class="admin-action">
                            <span class="action-icon">👤</span>
                            <div class="action-title">Управление пользователями</div>
                            <div class="action-desc">Бан, мут, выдача прав игрокам</div>
                            <button class="btn btn-small" onclick="manageUsers()">Управлять</button>
                        </div>
                        <div class="admin-action">
                            <span class="action-icon">📊</span>
                            <div class="action-title">Статистика форума</div>
                            <div class="action-desc">Просмотр активности и статистики</div>
                            <button class="btn btn-small" onclick="viewStats()">Посмотреть</button>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Вкладка объявлений -->
            <div class="forum-content" id="announcementsTab">
                <h2 style="text-align: center; margin-bottom: 30px; background: linear-gradient(45deg, var(--accent-5), var(--accent-1)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">📢 Объявления</h2>
                <button class="btn" onclick="createThread('announcements')" id="createAnnouncementBtn" style="display: none; margin-bottom: 20px;">Создать объявление</button>
                <div class="threads-list" id="announcementsList">
                    <!-- Объявления загружаются здесь -->
                </div>
            </div>

            <!-- Вкладка жалоб -->
            <div class="forum-content" id="reportsTab">
                <h2 style="text-align: center; margin-bottom: 30px; background: linear-gradient(45deg, var(--accent-1), #ff6b6b); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">⚖️ Жалобы</h2>
                <button class="btn" onclick="createThread('reports')" style="margin-bottom: 20px;">Подать жалобу</button>
                <div class="threads-list" id="reportsList">
                    <!-- Жалобы загружаются здесь -->
                </div>
            </div>

            <!-- Вкладка обсуждений -->
            <div class="forum-content" id="discussionsTab">
                <h2 style="text-align: center; margin-bottom: 30px; background: linear-gradient(45deg, var(--accent-2), var(--accent-3)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">💬 Обсуждения</h2>
                <button class="btn" onclick="createThread('discussions')" style="margin-bottom: 20px;">Создать тему</button>
                <div class="threads-list" id="discussionsList">
                    <!-- Обсуждения загружаются здесь -->
                </div>
            </div>

            <!-- Вкладка вопросов -->
            <div class="forum-content" id="questionsTab">
                <h2 style="text-align: center; margin-bottom: 30px; background: linear-gradient(45deg, var(--accent-4), var(--accent-2)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">🎮 Игровые вопросы</h2>
                <button class="btn" onclick="createThread('questions')" style="margin-bottom: 20px;">Задать вопрос</button>
                <div class="threads-list" id="questionsList">
                    <!-- Вопросы загружаются здесь -->
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно просмотра темы -->
    <div class="thread-modal" id="threadModal">
        <div class="thread-modal-content">
            <div class="thread-modal-header">
                <h2 class="thread-modal-title" id="threadModalTitle">Заголовок темы</h2>
            </div>
            <div class="thread-modal-body">
                <div class="thread-meta">
                    <div class="thread-author-info" id="threadModalAuthor">Автор: </div>
                    <div class="thread-date-info" id="threadModalDate">Дата: </div>
                </div>
                <div class="thread-content-full" id="threadModalContent">
                    Содержимое темы...
                </div>
            </div>
            <div class="thread-modal-footer">
                <button class="close-thread-modal" onclick="closeThreadModal()">Закрыть</button>
            </div>
        </div>
    </div>

    <script>
        // Конфигурация Discord OAuth
        const DISCORD_CLIENT_ID = '1428843992379949118'; // Ваш Application ID
        const DISCORD_REDIRECT_URI = window.location.origin + window.location.pathname;
        const DISCORD_SCOPE = 'identify email';

        // Система частиц
        class ParticlesSystem {
            constructor() {
                this.particles = [];
                this.container = document.getElementById('particlesBackground');
                this.init();
            }

            init() {
                this.createParticles();
                this.animateParticles();
                
                window.addEventListener('resize', () => {
                    this.particles = [];
                    this.container.innerHTML = '';
                    this.createParticles();
                });
            }

            createParticles() {
                const particleCount = window.innerWidth < 768 ? 15 : 30;
                for (let i = 0; i < particleCount; i++) {
                    this.createParticle();
                }
            }

            createParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * 6 + 2;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                
                const colors = [
                    'rgba(255, 107, 107, 0.3)',
                    'rgba(78, 205, 196, 0.3)',
                    'rgba(69, 183, 209, 0.3)',
                    'rgba(150, 206, 180, 0.3)',
                    'rgba(255, 217, 61, 0.3)'
                ];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.background = color;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                
                this.container.appendChild(particle);
                this.particles.push({
                    element: particle,
                    x: posX,
                    y: posY,
                    speedX: (Math.random() - 0.5) * 0.5,
                    speedY: (Math.random() - 0.5) * 0.5,
                    size: size
                });
            }

            animateParticles() {
                const animate = () => {
                    this.particles.forEach(particle => {
                        particle.x += particle.speedX;
                        particle.y += particle.speedY;
                        
                        if (particle.x <= 0 || particle.x >= 100) particle.speedX *= -1;
                        if (particle.y <= 0 || particle.y >= 100) particle.speedY *= -1;
                        
                        particle.element.style.left = `${particle.x}%`;
                        particle.element.style.top = `${particle.y}%`;
                    });
                    
                    requestAnimationFrame(animate);
                };
                
                animate();
            }
        }

        // Полноэкранное меню
        const menuToggle = document.getElementById('menuToggle');
        const fullscreenMenu = document.getElementById('fullscreenMenu');
        const body = document.body;

        function toggleFullscreenMenu() {
            menuToggle.classList.toggle('active');
            fullscreenMenu.classList.toggle('active');
            body.classList.toggle('menu-open');
        }

        menuToggle.addEventListener('click', toggleFullscreenMenu);

        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', (e) => {
                // Предотвращаем всплытие события, чтобы не открывалось соглашение
                e.stopPropagation();
                setTimeout(() => {
                    toggleFullscreenMenu();
                }, 400);
            });
        });

        fullscreenMenu.addEventListener('click', (e) => {
            if (e.target === fullscreenMenu) {
                toggleFullscreenMenu();
            }
        });

        // Модальные окна с блокировкой скролла
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            body.classList.add('modal-open');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            body.classList.remove('modal-open');
        }

        function backToMenuFromModal(modalId) {
            closeModal(modalId);
            setTimeout(() => {
                toggleFullscreenMenu();
            }, 300);
        }

        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                const modal = event.target;
                modal.classList.remove('active');
                body.classList.remove('modal-open');
                setTimeout(() => {
                    toggleFullscreenMenu();
                }, 300);
            }
        });

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(modal => {
                    modal.classList.remove('active');
                    body.classList.remove('modal-open');
                    setTimeout(() => {
                        toggleFullscreenMenu();
                    }, 300);
                });
            }
        });

        // Правила
        function toggleCategory(header) {
            const category = header.parentElement;
            category.classList.toggle('expanded');
        }

        // Онлайн виджет
        class ServerOnlineWidget {
            constructor() {
                this.serverIP = 'capacity-examines.gl.joinmc.link';
                this.updateInterval = 30000;
                this.maxPlayers = 50;
                this.init();
            }

            init() {
                this.checkServerStatus();
                setInterval(() => this.checkServerStatus(), this.updateInterval);
                this.startUpdateTimer();
            }

            async checkServerStatus() {
                try {
                    this.setStatus('checking', 'Проверка...');
                    const response = await fetch(`https://api.mcsrvstat.us/2/${this.serverIP}`);
                    const data = await response.json();
                    
                    if (data.online) {
                        this.handleOnline(data);
                    } else {
                        this.handleOffline();
                    }
                } catch (error) {
                    this.handleError();
                }
                this.updateLastUpdateTime();
            }

            handleOnline(data) {
                const onlineCount = data.players.online || 0;
                this.setStatus('online', 'Сервер онлайн');
                this.updateOnlineCount(onlineCount);
                this.updateProgressBar(onlineCount);
            }

            handleOffline() {
                this.setStatus('offline', 'Сервер офлайн');
                this.updateOnlineCount(0);
                this.updateProgressBar(0);
            }

            handleError() {
                this.setStatus('offline', 'Ошибка проверки');
                this.updateOnlineCount('?');
            }

            setStatus(status, text) {
                const dot = document.querySelector('.status-dot');
                const statusText = document.querySelector('.status-text');
                dot.className = 'status-dot';
                dot.classList.add(`status-${status}`);
                statusText.textContent = text;
            }

            updateOnlineCount(count) {
                document.getElementById('onlineCount').textContent = count;
            }

            updateProgressBar(onlineCount) {
                const progress = document.getElementById('progressBar');
                const percentage = (onlineCount / this.maxPlayers) * 100;
                progress.style.width = `${percentage}%`;
            }

            updateLastUpdateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit'
                });
                document.getElementById('lastUpdate').textContent = timeString;
            }

            startUpdateTimer() {
                let seconds = 30;
                setInterval(() => {
                    seconds--;
                    if (seconds <= 0) seconds = 30;
                    document.getElementById('nextUpdate').textContent = `${seconds} сек`;
                }, 1000);
            }
        }

        // ФОРУМ СИСТЕМА
        const forumData = {
            users: [
                {
                    username: "admin",
                    password: "admin123",
                    discordId: "123456789",
                    role: "admin",
                    joinDate: "2024-01-01"
                },
                {
                    username: "moderator",
                    password: "mod123",
                    discordId: "987654321",
                    role: "moderator",
                    joinDate: "2024-01-02"
                }
            ],
            threads: {
                announcements: [
                    {
                        id: 1,
                        title: "Добро пожаловать на форум MoreCraft!",
                        author: "admin",
                        date: "2025-01-15",
                        content: "Приветствуем всех игроков на нашем новом форуме! Здесь вы можете общаться, задавать вопросы и делиться впечатлениями. Наш сервер продолжает развиваться, и мы рады каждому новому участнику нашего сообщества."
                    }
                ],
                reports: [],
                discussions: [
                    {
                        id: 1,
                        title: "Лучшие места для строительства",
                        author: "admin",
                        date: "2025-01-15",
                        content: "Какие локации на сервере вам нравятся больше всего для строительства? Поделитесь своими любимыми местами!"
                    }
                ],
                questions: [
                    {
                        id: 1,
                        title: "Как установить моды?",
                        author: "admin",
                        date: "2025-01-15",
                        content: "Подробная инструкция по установке рекомендованных модов для сервера."
                    }
                ]
            }
        };

        // Текущий пользователь
        let currentUser = null;

        // Discord OAuth функция
        function discordAuth() {
            const authUrl = new URL('https://discord.com/api/oauth2/authorize');
            authUrl.searchParams.set('client_id', DISCORD_CLIENT_ID);
            authUrl.searchParams.set('redirect_uri', DISCORD_REDIRECT_URI);
            authUrl.searchParams.set('response_type', 'token');
            authUrl.searchParams.set('scope', DISCORD_SCOPE);
            
            // Сохраняем текущее состояние
            localStorage.setItem('returnTo', window.location.href);
            
            // Перенаправляем на Discord OAuth
            window.location.href = authUrl.toString();
        }

        // Обработка возврата от Discord OAuth
        function handleDiscordAuthCallback() {
            const hash = window.location.hash.substring(1);
            const params = new URLSearchParams(hash);
            const accessToken = params.get('access_token');

            if (accessToken) {
                // Получаем информацию о пользователе Discord
                fetch('https://discord.com/api/users/@me', {
                    headers: {
                        'Authorization': `Bearer ${accessToken}`
                    }
                })
                .then(response => response.json())
                .then(discordUser => {
                    // Создаем или находим пользователя в нашей системе
                    const user = {
                        username: discordUser.username,
                        discordId: discordUser.id,
                        avatar: discordUser.avatar,
                        role: 'user',
                        joinDate: new Date().toISOString().split('T')[0],
                        provider: 'discord'
                    };
                    
                    // Проверяем, нет ли уже такого пользователя
                    const existingUser = forumData.users.find(u => u.discordId === user.discordId);
                    if (!existingUser) {
                        forumData.users.push(user);
                    } else {
                        Object.assign(existingUser, user);
                    }
                    
                    currentUser = existingUser || user;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    updateUI();
                    
                    // Очищаем URL от параметров OAuth
                    window.history.replaceState({}, document.title, window.location.pathname);
                    
                    alert(`Успешный вход через Discord! Добро пожаловать, ${currentUser.username}`);
                })
                .catch(error => {
                    console.error('Ошибка получения данных пользователя:', error);
                    alert('Ошибка авторизации через Discord. Попробуйте еще раз.');
                });
            }
        }

        // Показать/скрыть форум
        function showForum() {
            document.getElementById('mainContent').style.display = 'none';
            document.getElementById('forumSection').style.display = 'block';
            toggleFullscreenMenu();
            loadForumData();
        }

        function hideForum() {
            document.getElementById('mainContent').style.display = 'block';
            document.getElementById('forumSection').style.display = 'none';
        }

        // Переключение вкладок форума
        function switchForumTab(tabName) {
            document.querySelectorAll('.forum-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.forum-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName + 'Tab').classList.add('active');
            event.target.classList.add('active');
            
            if (tabName !== 'auth') {
                loadThreadsByType(tabName);
            }
        }

        // Загрузка данных форума
        function loadForumData() {
            checkLoginStatus();
            loadThreads();
        }

        function loadThreads() {
            loadThreadsByType('announcements');
            loadThreadsByType('reports');
            loadThreadsByType('discussions');
            loadThreadsByType('questions');
        }

        function loadThreadsByType(type) {
            const list = document.getElementById(type + 'List');
            if (!list) return;
            
            list.innerHTML = '';

            if (forumData.threads[type].length === 0) {
                list.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">📭</div>
                        <p>Пока нет ${getThreadTypeName(type)}</p>
                    </div>
                `;
                return;
            }

            forumData.threads[type].forEach(thread => {
                const threadElement = document.createElement('div');
                threadElement.className = 'thread-item';
                threadElement.onclick = () => openThreadModal(thread, type);
                threadElement.innerHTML = `
                    <div class="thread-header">
                        <div>
                            <div class="thread-title">${thread.title}</div>
                            <div class="thread-author">Автор: ${thread.author}</div>
                        </div>
                        <div class="thread-date">${thread.date}</div>
                    </div>
                    <div class="thread-content">${thread.content.substring(0, 150)}${thread.content.length > 150 ? '...' : ''}</div>
                    <div class="thread-actions">
                        <button class="btn btn-small" onclick="event.stopPropagation(); openThreadModal(${JSON.stringify(thread).replace(/"/g, '&quot;')}, '${type}')">Просмотреть</button>
                        ${currentUser && (currentUser.role === 'admin' || currentUser.role === 'moderator') ? 
                            `<button class="btn btn-small" onclick="event.stopPropagation(); deleteThread(${thread.id}, '${type}')" style="background: linear-gradient(45deg, var(--accent-1), #ff6b6b);">Удалить</button>` : 
                            ''}
                    </div>
                `;
                list.appendChild(threadElement);
            });
        }

        function getThreadTypeName(type) {
            const names = {
                'announcements': 'объявлений',
                'reports': 'жалоб',
                'discussions': 'обсуждений',
                'questions': 'вопросов'
            };
            return names[type] || 'записей';
        }

        // Модальное окно темы
        function openThreadModal(thread, type) {
            document.getElementById('threadModalTitle').textContent = thread.title;
            document.getElementById('threadModalAuthor').textContent = `Автор: ${thread.author}`;
            document.getElementById('threadModalDate').textContent = `Дата: ${thread.date}`;
            document.getElementById('threadModalContent').textContent = thread.content;
            
            document.getElementById('threadModal').classList.add('active');
            body.classList.add('modal-open');
        }

        function closeThreadModal() {
            document.getElementById('threadModal').classList.remove('active');
            body.classList.remove('modal-open');
        }

        // Функции авторизации
        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;

            if (!username || !password) {
                alert('Заполните все поля!');
                return;
            }

            const user = forumData.users.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                updateUI();
                alert(`Добро пожаловать, ${username}!`);
                
                document.getElementById('loginUsername').value = '';
                document.getElementById('loginPassword').value = '';
            } else {
                alert('Неверное имя пользователя или пароль!');
            }
        }

        function register() {
            const username = document.getElementById('regUsername').value;
            const password = document.getElementById('regPassword').value;
            const discordId = document.getElementById('regDiscord').value;

            if (!username || !password) {
                alert('Заполните обязательные поля!');
                return;
            }

            if (forumData.users.find(u => u.username === username)) {
                alert('Пользователь с таким именем уже существует!');
                return;
            }

            const newUser = {
                username: username,
                password: password,
                discordId: discordId || '',
                role: 'user',
                joinDate: new Date().toISOString().split('T')[0]
            };

            forumData.users.push(newUser);
            alert('Регистрация успешна! Теперь вы можете войти.');
            
            document.getElementById('regUsername').value = '';
            document.getElementById('regPassword').value = '';
            document.getElementById('regDiscord').value = '';
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUI();
            alert('Вы вышли из аккаунта.');
        }

        function checkLoginStatus() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUI();
            }
        }

        function updateUI() {
            const authSection = document.getElementById('authSection');
            const userPanel = document.getElementById('userPanel');
            const adminPanel = document.getElementById('adminPanel');
            const createAnnouncementBtn = document.getElementById('createAnnouncementBtn');

            if (currentUser) {
                authSection.style.display = 'none';
                userPanel.style.display = 'block';
                
                document.getElementById('userWelcome').textContent = `Добро пожаловать, ${currentUser.username}`;
                document.getElementById('userRole').textContent = 
                    currentUser.role === 'admin' ? 'Администратор' : 
                    currentUser.role === 'moderator' ? 'Модератор' : 'Игрок';
                document.getElementById('userRole').className = `user-role ${currentUser.role}`;

                if (currentUser.role === 'admin' || currentUser.role === 'moderator') {
                    adminPanel.style.display = 'block';
                    if (createAnnouncementBtn) {
                        createAnnouncementBtn.style.display = 'block';
                    }
                } else {
                    adminPanel.style.display = 'none';
                    if (createAnnouncementBtn) {
                        createAnnouncementBtn.style.display = 'none';
                    }
                }
            } else {
                authSection.style.display = 'flex';
                userPanel.style.display = 'none';
                adminPanel.style.display = 'none';
            }
            
            loadThreads();
        }

        // Функции работы с темами
        function createThread(type) {
            if (!currentUser) {
                alert('Для создания темы необходимо войти в аккаунт!');
                return;
            }

            const title = prompt(`Введите заголовок ${getThreadTypeName(type).slice(0, -2)}:`);
            if (!title) return;

            const content = prompt(`Введите содержание ${getThreadTypeName(type).slice(0, -2)}:`);
            if (!content) return;

            const newThread = {
                id: Date.now(),
                title: title,
                author: currentUser.username,
                date: new Date().toISOString().split('T')[0],
                content: content
            };

            forumData.threads[type].unshift(newThread);
            loadThreadsByType(type);
            alert(`${getThreadTypeName(type).slice(0, -2)} успешно создана!`);
        }

        function deleteThread(id, type) {
            if (confirm('Вы уверены, что хотите удалить эту запись?')) {
                forumData.threads[type] = forumData.threads[type].filter(t => t.id !== id);
                loadThreadsByType(type);
                alert('Запись удалена!');
            }
        }

        // Админ-функции
        function manageUsers() {
            const userList = forumData.users.map(user => 
                `${user.username} (${user.role}) - Discord: ${user.discordId || 'не указан'}`
            ).join('\n');
            
            alert(`Список пользователей:\n\n${userList}\n\nВсего пользователей: ${forumData.users.length}`);
        }

        function viewStats() {
            const totalUsers = forumData.users.length;
            const totalThreads = Object.values(forumData.threads).flat().length;
            
            alert(`Статистика форума:\n\nПользователей: ${totalUsers}\nТем на форуме: ${totalThreads}\n\nОбъявления: ${forumData.threads.announcements.length}\nЖалобы: ${forumData.threads.reports.length}\nОбсуждения: ${forumData.threads.discussions.length}\nВопросы: ${forumData.threads.questions.length}`);
        }

        // Инициализация
        document.addEventListener('DOMContentLoaded', () => {
            new ParticlesSystem();
            new ServerOnlineWidget();
            checkLoginStatus();
            
            // Добавляем обработчик для кнопки Discord
            document.getElementById('discordAuthBtn').addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                discordAuth();
            });
            
            // Проверяем наличие OAuth callback
            if (window.location.hash.includes('access_token')) {
                handleDiscordAuthCallback();
            }
        });

        function copyIP() {
            navigator.clipboard.writeText('capacity-examines.gl.joinmc.link');
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '✓ Скопировано!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
            return false;
        }

        // Оптимизация для мобильных устройств
        if (window.innerWidth <= 768) {
            document.documentElement.style.setProperty('--transition-slow', '0.4s ease');
            document.documentElement.style.setProperty('--transition-medium', '0.3s ease');
            document.documentElement.style.setProperty('--transition-fast', '0.2s ease');
        }
    </script>
</body>
</html>